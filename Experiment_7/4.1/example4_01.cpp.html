<!DOCTYPE html>
<html>
<head>
<title>example4_01.cpp</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="hl lin"> 1 </span><span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl lin"> 2 </span><span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>
<span class="hl lin"> 3 </span><span class="hl kwc">class</span> Student
<span class="hl lin"> 4 </span><span class="hl opt">{</span>
<span class="hl lin"> 5 </span><span class="hl kwc">private</span><span class="hl opt">:</span>
<span class="hl lin"> 6 </span>    <span class="hl kwb">int</span> num<span class="hl opt">;</span>
<span class="hl lin"> 7 </span>    <span class="hl kwb">char</span> name<span class="hl opt">[</span><span class="hl num">20</span><span class="hl opt">];</span>
<span class="hl lin"> 8 </span><span class="hl kwc">public</span><span class="hl opt">:</span>
<span class="hl lin"> 9 </span>    <span class="hl kwb">static int</span> total<span class="hl opt">;</span>
<span class="hl lin">10 </span>    <span class="hl kwd">Student</span><span class="hl opt">()</span>
<span class="hl lin">11 </span>    <span class="hl opt">{</span>
<span class="hl lin">12 </span>        total<span class="hl opt">++;</span>
<span class="hl lin">13 </span>    <span class="hl opt">}</span>
<span class="hl lin">14 </span>    <span class="hl opt">~</span><span class="hl kwd">Student</span><span class="hl opt">()</span>
<span class="hl lin">15 </span>    <span class="hl opt">{</span>
<span class="hl lin">16 </span>        total<span class="hl opt">--;</span>
<span class="hl lin">17 </span>    <span class="hl opt">}</span>
<span class="hl lin">18 </span>    <span class="hl kwd">Student</span><span class="hl opt">(</span><span class="hl kwb">int</span> n<span class="hl opt">,</span> <span class="hl kwb">char</span> <span class="hl opt">*</span>p <span class="hl opt">=</span> <span class="hl str">&quot;Wang&quot;</span><span class="hl opt">);</span>
<span class="hl lin">19 </span>    <span class="hl kwb">void</span> <span class="hl kwd">GetName</span><span class="hl opt">();</span>
<span class="hl lin">20 </span>    <span class="hl kwb">int</span> <span class="hl kwd">Getnum</span><span class="hl opt">();</span>
<span class="hl lin">21 </span><span class="hl opt">};</span>
<span class="hl lin">22 </span><span class="hl kwb">int</span> <span class="hl kwc">Student</span><span class="hl opt">::</span>total <span class="hl opt">=</span><span class="hl num">0</span><span class="hl opt">;</span>
<span class="hl lin">23 </span><span class="hl com">/*</span>
<span class="hl lin">24 </span><span class="hl com">如果将这个语句的=0给去掉，则运行结果不变，因为静态变量系统会默认初始化为0；</span>
<span class="hl lin">25 </span><span class="hl com">如果注释掉这个函数语句，则编译报错。解释：https://zhidao.baidu.com/question/454847745407964925</span>
<span class="hl lin">26 </span><span class="hl com">*/</span>
<span class="hl lin">27 </span><span class="hl kwc">Student</span><span class="hl opt">::</span><span class="hl kwd">Student</span><span class="hl opt">(</span><span class="hl kwb">int</span> n<span class="hl opt">,</span> <span class="hl kwb">char</span> <span class="hl opt">*</span>p<span class="hl opt">)</span>
<span class="hl lin">28 </span><span class="hl opt">{</span>
<span class="hl lin">29 </span>    num <span class="hl opt">=</span> n<span class="hl opt">;</span>
<span class="hl lin">30 </span>    <span class="hl kwd">strcpy_s</span><span class="hl opt">(</span>name<span class="hl opt">,</span><span class="hl num">20</span><span class="hl opt">,</span> p<span class="hl opt">);</span>
<span class="hl lin">31 </span>    total<span class="hl opt">++;</span>
<span class="hl lin">32 </span>
<span class="hl lin">33 </span><span class="hl opt">}</span>
<span class="hl lin">34 </span>
<span class="hl lin">35 </span><span class="hl kwb">void</span> <span class="hl kwc">Student</span><span class="hl opt">::</span><span class="hl kwd">GetName</span><span class="hl opt">()</span>
<span class="hl lin">36 </span><span class="hl opt">{</span>
<span class="hl lin">37 </span>    cout <span class="hl opt">&lt;&lt;</span> name <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">38 </span><span class="hl opt">}</span>
<span class="hl lin">39 </span>
<span class="hl lin">40 </span><span class="hl kwb">int</span> <span class="hl kwc">Student</span><span class="hl opt">::</span><span class="hl kwd">Getnum</span><span class="hl opt">()</span>
<span class="hl lin">41 </span><span class="hl opt">{</span>
<span class="hl lin">42 </span>    <span class="hl kwa">return</span> num<span class="hl opt">;</span>
<span class="hl lin">43 </span><span class="hl opt">}</span>
<span class="hl lin">44 </span>
<span class="hl lin">45 </span><span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">()</span>
<span class="hl lin">46 </span><span class="hl opt">{</span>
<span class="hl lin">47 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;The number of all students: &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">Student</span><span class="hl opt">::</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">48 </span>
<span class="hl lin">49 </span>    Student <span class="hl opt">*</span>p <span class="hl opt">=</span> <span class="hl kwa">new</span> <span class="hl kwd">Student</span><span class="hl opt">(</span><span class="hl num">13</span><span class="hl opt">);</span>
<span class="hl lin">50 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;The number of all students: &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">Student</span><span class="hl opt">::</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">51 </span>
<span class="hl lin">52 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;The number of all students: &quot;</span> <span class="hl opt">&lt;&lt;</span> p<span class="hl opt">-&gt;</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">53 </span>
<span class="hl lin">54 </span>    <span class="hl kwa">delete</span> p<span class="hl opt">;</span>
<span class="hl lin">55 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;The number of all students: &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">Student</span><span class="hl opt">::</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">56 </span>
<span class="hl lin">57 </span>    Student s<span class="hl opt">[</span><span class="hl num">2</span><span class="hl opt">];</span>
<span class="hl lin">58 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;The number of all student: &quot;</span> <span class="hl opt">&lt;&lt;</span> s<span class="hl opt">[</span><span class="hl num">0</span><span class="hl opt">].</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">59 </span>    cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;the number of all student: &quot;</span> <span class="hl opt">&lt;&lt;</span> s<span class="hl opt">[</span><span class="hl num">1</span><span class="hl opt">].</span>total <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl lin">60 </span>    <span class="hl kwd">getchar</span><span class="hl opt">();</span>
<span class="hl lin">61 </span>    <span class="hl kwa">return</span> <span class="hl num">0</span><span class="hl opt">;</span>
<span class="hl lin">62 </span><span class="hl opt">}</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 3.47, http://www.andre-simon.de/-->
